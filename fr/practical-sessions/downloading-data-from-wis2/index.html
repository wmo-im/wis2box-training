
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/fr/practical-sessions/downloading-data-from-wis2/">
      
      
        <link rel="prev" href="../datasets-with-access-control/">
      
      
        <link rel="next" href="../decoding-data/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Télécharger des données depuis WIS2 en utilisant wis2downloader - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#telecharger-des-donnees-depuis-wis2-en-utilisant-wis2downloader" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Télécharger des données depuis WIS2 en utilisant wis2downloader
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Sélectionner la langue">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../practical-sessions/downloading-data-from-wis2/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/practical-sessions/downloading-data-from-wis2/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/downloading-data-from-wis2/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/practical-sessions/downloading-data-from-wis2/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ar/practical-sessions/downloading-data-from-wis2/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Aide-mémoire
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Aide-mémoire
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WIS2 in a box cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Modèles csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Modèles csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèle AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèle DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sessions Pratiques
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sessions Pratiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connexion à WIS2 via MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accéder à votre VM étudiant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Initialisation de wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des ensembles de données dans wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des métadonnées des stations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingesting-data-for-publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingestion des données pour publication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Outils de Conversion de Données
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modèles de mappage de CSV à BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ajout d'en-têtes GTS aux notifications WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration d'un jeu de données recommandé
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Télécharger des données depuis WIS2 en utilisant wis2downloader
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Télécharger des données depuis WIS2 en utilisant wis2downloader
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Préparation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notions-de-base-sur-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Notions de base sur wis2downloader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notions de base sur wis2downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualiser-le-tableau-de-bord-wis2downloader-dans-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Visualiser le tableau de bord wis2downloader dans Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examiner-la-configuration-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Examiner la configuration de wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-en-ligne-de-commande-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Interface en ligne de commande de wis2downloader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telecharger-des-donnees-gts-via-un-wis2-global-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger des données GTS via un WIS2 Global Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Télécharger des données GTS via un WIS2 Global Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurer-labonnement" class="md-nav__link">
    <span class="md-ellipsis">
      Configurer l'abonnement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-les-donnees-telechargees" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier les données téléchargées
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telecharger-des-donnees-dexemple-depuis-le-wis2-training-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger des données d'exemple depuis le WIS2 Training Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Télécharger des données d&#39;exemple depuis le WIS2 Training Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modifier-la-configuration-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Modifier la configuration de wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurer-de-nouveaux-abonnements" class="md-nav__link">
    <span class="md-ellipsis">
      Configurer de nouveaux abonnements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-les-donnees-telechargees_1" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier les données téléchargées
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../decoding-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Décodage des données à partir des formats binaires de l'OMM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Découverte des ensembles de données depuis le WIS2 Global Discovery Catalogue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    <span class="md-ellipsis">
      Préparation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notions-de-base-sur-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Notions de base sur wis2downloader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Notions de base sur wis2downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visualiser-le-tableau-de-bord-wis2downloader-dans-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Visualiser le tableau de bord wis2downloader dans Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examiner-la-configuration-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Examiner la configuration de wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interface-en-ligne-de-commande-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Interface en ligne de commande de wis2downloader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telecharger-des-donnees-gts-via-un-wis2-global-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger des données GTS via un WIS2 Global Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Télécharger des données GTS via un WIS2 Global Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configurer-labonnement" class="md-nav__link">
    <span class="md-ellipsis">
      Configurer l'abonnement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-les-donnees-telechargees" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier les données téléchargées
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telecharger-des-donnees-dexemple-depuis-le-wis2-training-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Télécharger des données d'exemple depuis le WIS2 Training Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Télécharger des données d&#39;exemple depuis le WIS2 Training Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modifier-la-configuration-de-wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Modifier la configuration de wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configurer-de-nouveaux-abonnements" class="md-nav__link">
    <span class="md-ellipsis">
      Configurer de nouveaux abonnements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-les-donnees-telechargees_1" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier les données téléchargées
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="telecharger-des-donnees-depuis-wis2-en-utilisant-wis2downloader">Télécharger des données depuis WIS2 en utilisant wis2downloader</h1>
<div class="admonition abstract">
<p class="admonition-title">Objectifs d'apprentissage !</p>
<p>À la fin de cette session pratique, vous serez capable de :</p>
<ul>
<li>utiliser le "wis2downloader" pour vous abonner aux notifications de données WIS2 et télécharger des données sur votre système local</li>
<li>visualiser l'état des téléchargements dans le tableau de bord Grafana</li>
<li>apprendre à configurer le wis2downloader pour s'abonner à un broker non par défaut</li>
</ul>
</div>
<h2 id="introduction">Introduction</h2>
<p>Dans cette session, vous apprendrez à configurer un abonnement à un Broker WIS2 et à télécharger automatiquement des données sur votre système local en utilisant le service "wis2downloader" inclus dans le wis2box.</p>
<div class="admonition note">
<p class="admonition-title">À propos de wis2downloader</p>
<p>Le wis2downloader est également disponible en tant que service autonome qui peut être exécuté sur un système différent de celui qui publie les notifications WIS2. Consultez <a href="https://pypi.org/project/wis2downloader/">wis2downloader</a> pour plus d'informations sur l'utilisation de wis2downloader comme service autonome.</p>
<p>Si vous souhaitez développer votre propre service pour vous abonner aux notifications WIS2 et télécharger des données, vous pouvez utiliser le <a href="https://github.com/World-Meteorological-Organization/wis2downloader">code source de wis2downloader</a> comme référence.</p>
</div>
<h2 id="preparation">Préparation</h2>
<p>Avant de commencer, connectez-vous à votre VM étudiant et assurez-vous que votre instance wis2box est opérationnelle.</p>
<h2 id="notions-de-base-sur-wis2downloader">Notions de base sur wis2downloader</h2>
<p>Le wis2downloader est inclus comme un conteneur distinct dans le wis2box, tel que défini dans les fichiers Docker Compose. Le conteneur Prometheus dans wis2box est configuré pour collecter des métriques depuis le conteneur wis2downloader, et ces métriques peuvent être visualisées dans un tableau de bord Grafana.</p>
<h3 id="visualiser-le-tableau-de-bord-wis2downloader-dans-grafana">Visualiser le tableau de bord wis2downloader dans Grafana</h3>
<p>Ouvrez un navigateur web et accédez au tableau de bord Grafana de votre instance wis2box en allant sur <code>http://YOUR-HOST:3000</code>.</p>
<p>Cliquez sur "dashboards" dans le menu de gauche, puis sélectionnez le <strong>tableau de bord wis2downloader</strong>.</p>
<p>Vous devriez voir le tableau de bord suivant :</p>
<p><img alt="Tableau de bord wis2downloader" src="../../../assets/img/wis2downloader-dashboard.png" /></p>
<p>Ce tableau de bord est basé sur les métriques publiées par le service wis2downloader et vous montrera l'état des téléchargements en cours.</p>
<p>Dans le coin supérieur gauche, vous pouvez voir les abonnements actuellement actifs.</p>
<p>Gardez ce tableau de bord ouvert, car vous l'utiliserez pour surveiller la progression des téléchargements dans le prochain exercice.</p>
<h3 id="examiner-la-configuration-de-wis2downloader">Examiner la configuration de wis2downloader</h3>
<p>Le service wis2downloader dans wis2box peut être configuré à l'aide des variables d'environnement définies dans votre fichier <code>wis2box.env</code>.</p>
<p>Les variables d'environnement suivantes sont utilisées par le wis2downloader :</p>
<pre><code>- DOWNLOAD_BROKER_HOST : Le nom d'hôte du broker MQTT auquel se connecter. Par défaut : globalbroker.meteo.fr
- DOWNLOAD_BROKER_PORT : Le port du broker MQTT auquel se connecter. Par défaut : 443 (HTTPS pour websockets)
- DOWNLOAD_BROKER_USERNAME : Le nom d'utilisateur pour se connecter au broker MQTT. Par défaut : everyone
- DOWNLOAD_BROKER_PASSWORD : Le mot de passe pour se connecter au broker MQTT. Par défaut : everyone
- DOWNLOAD_BROKER_TRANSPORT : websockets ou tcp, le mécanisme de transport à utiliser pour se connecter au broker MQTT. Par défaut : websockets
- DOWNLOAD_RETENTION_PERIOD_HOURS : La période de rétention en heures pour les données téléchargées. Par défaut : 24
- DOWNLOAD_WORKERS : Le nombre de travailleurs de téléchargement à utiliser. Par défaut : 8. Détermine le nombre de téléchargements parallèles.
- DOWNLOAD_MIN_FREE_SPACE_GB : L'espace libre minimum en Go à conserver sur le volume hébergeant les téléchargements. Par défaut : 1.
</code></pre>
<p>Pour examiner la configuration actuelle de wis2downloader, vous pouvez utiliser la commande suivante :</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box/wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DOWNLOAD
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Examiner la configuration de wis2downloader</p>
<p>Quel est le broker MQTT par défaut auquel le wis2downloader se connecte ?</p>
<p>Quelle est la période de rétention par défaut pour les données téléchargées ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Le broker MQTT par défaut auquel le wis2downloader se connecte est <code>globalbroker.meteo.fr</code>.</p>
<p>La période de rétention par défaut pour les données téléchargées est de 24 heures.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Mettre à jour la configuration de wis2downloader</p>
<p>Pour mettre à jour la configuration de wis2downloader, vous pouvez modifier le fichier wis2box.env. Pour appliquer les modifications, vous pouvez relancer la commande de démarrage pour le stack wis2box :</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Vous verrez alors le service wis2downloader redémarrer avec la nouvelle configuration.</p>
</div>
<p>Vous pouvez conserver la configuration par défaut pour le prochain exercice.</p>
<h3 id="interface-en-ligne-de-commande-de-wis2downloader">Interface en ligne de commande de wis2downloader</h3>
<p>Pour accéder à l'interface en ligne de commande de wis2downloader dans wis2box, vous pouvez vous connecter au conteneur <strong>wis2downloader</strong> en utilisant la commande suivante :</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Utilisez la commande suivante pour lister les abonnements actuellement actifs :</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>list-subscriptions
</code></pre></div>
<p>Cette commande renvoie une liste vide, car aucun abonnement n'a encore été configuré.</p>
<h2 id="telecharger-des-donnees-gts-via-un-wis2-global-broker">Télécharger des données GTS via un WIS2 Global Broker</h2>
<p>Si vous avez conservé la configuration par défaut de wis2downloader, il est actuellement connecté au WIS2 Global Broker hébergé par Météo-France.</p>
<h3 id="configurer-labonnement">Configurer l'abonnement</h3>
<p>Utilisez la commande suivante <code>cache/a/wis2/de-dwd-gts-to-wis2/#</code> pour vous abonner aux données publiées par la passerelle GTS-to-WIS2 hébergée par DWD, rendues disponibles via les Global Caches :</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Ensuite, quittez le conteneur <strong>wis2downloader</strong> en tapant <code>exit</code> :</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h3 id="verifier-les-donnees-telechargees">Vérifier les données téléchargées</h3>
<p>Vérifiez le tableau de bord wis2downloader dans Grafana pour voir le nouvel abonnement ajouté. Attendez quelques minutes et vous devriez voir les premiers téléchargements commencer. Passez à l'exercice suivant une fois que vous avez confirmé que les téléchargements ont commencé.</p>
<p>Le service wis2downloader dans wis2box télécharge les données dans le répertoire 'downloads' du répertoire que vous avez défini comme <code>WIS2BOX_HOST_DATADIR</code> dans votre fichier <code>wis2box.env</code>. Pour afficher le contenu du répertoire des téléchargements, utilisez la commande suivante :</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Notez que les données téléchargées sont stockées dans des répertoires nommés d'après le sujet sur lequel la notification WIS2 a été publiée.</p>
<div class="admonition question">
<p class="admonition-title">Visualiser les données téléchargées</p>
<p>Quels répertoires voyez-vous dans le répertoire des téléchargements ?</p>
<p>Pouvez-vous voir des fichiers téléchargés dans ces répertoires ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Vous devriez voir une structure de répertoires commençant par <code>cache/a/wis2/de-dwd-gts-to-wis2/</code> sous laquelle vous verrez d'autres répertoires nommés d'après les en-têtes des bulletins GTS des données téléchargées.</p>
<p>Selon le moment où vous avez commencé l'abonnement, vous pourriez ou non voir des fichiers téléchargés dans ce répertoire. Si vous ne voyez pas encore de fichiers, attendez quelques minutes de plus et vérifiez à nouveau.</p>
</details>
<p>Nettoyons l'abonnement et les données téléchargées avant de passer à l'exercice suivant.</p>
<p>Reconnectez-vous au conteneur wis2downloader :</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>et supprimez l'abonnement que vous avez créé dans wis2downloader en utilisant la commande suivante :</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>remove-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Supprimez les données téléchargées en utilisant la commande suivante :</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-rf<span class="w"> </span>/wis2box-data/downloads/cache/*
</code></pre></div>
<p>Et quittez le conteneur wis2downloader en tapant <code>exit</code> :</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Vérifiez le tableau de bord wis2downloader dans Grafana pour voir l'abonnement supprimé. Vous devriez voir les téléchargements s'arrêter.</p>
<div class="admonition note">
<p class="admonition-title">À propos des passerelles GTS-to-WIS2</p>
<p>Il existe actuellement deux passerelles GTS-to-WIS2 publiant des données via le WIS2 Global Broker et les Global Caches :</p>
<ul>
<li>DWD (Allemagne) : centre-id=<em>de-dwd-gts-to-wis2</em></li>
<li>JMA (Japon) : centre-id=<em>jp-jma-gts-to-wis2</em></li>
</ul>
<p>Si dans l'exercice précédent vous remplacez <code>de-dwd-gts-to-wis2</code> par <code>jp-jma-gts-to-wis2</code>, vous recevrez les notifications et les données publiées par la passerelle GTS-to-WIS2 de la JMA.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Sujets origin vs cache</p>
<p>Lorsque vous vous abonnez à un sujet commençant par <code>origin/</code>, vous recevrez des notifications avec une URL canonique qui pointe vers un serveur de données fourni par le Centre WIS publiant les données.</p>
<p>Lorsque vous vous abonnez à un sujet commençant par <code>cache/</code>, vous recevrez plusieurs notifications pour les mêmes données, une pour chaque Global Cache. Chaque notification contiendra une URL canonique qui pointe vers le serveur de données du Global Cache correspondant. Le wis2downloader téléchargera les données à partir de la première URL canonique qu'il peut atteindre.</p>
</div>
<h2 id="telecharger-des-donnees-dexemple-depuis-le-wis2-training-broker">Télécharger des données d'exemple depuis le WIS2 Training Broker</h2>
<p>Dans cet exercice, vous allez vous abonner au WIS2 Training Broker qui publie des données d'exemple à des fins de formation.</p>
<h3 id="modifier-la-configuration-de-wis2downloader">Modifier la configuration de wis2downloader</h3>
<p>Cela démontre comment s'abonner à un broker qui n'est pas le broker par défaut et vous permettra de télécharger des données publiées par le WIS2 Training Broker.</p>
<p>Modifiez le fichier <code>wis2box.env</code> et changez <code>DOWNLOAD_BROKER_HOST</code> en <code>wis2training-broker.wis2dev.io</code>, <code>DOWNLOAD_BROKER_PORT</code> en <code>1883</code> et <code>DOWNLOAD_BROKER_TRANSPORT</code> en <code>tcp</code> :</p>
<div class="highlight"><pre><span></span><code># paramètres du downloader
DOWNLOAD_BROKER_HOST=wis2training-broker.wis2dev.io
DOWNLOAD_BROKER_PORT=1883
DOWNLOAD_BROKER_USERNAME=everyone
DOWNLOAD_BROKER_PASSWORD=everyone
# mécanisme de transport pour le téléchargement (tcp ou websockets)
DOWNLOAD_BROKER_TRANSPORT=tcp
</code></pre></div>
<p>Puis relancez la commande 'start' pour appliquer les modifications :</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Vérifiez les journaux de wis2downloader pour voir si la connexion au nouveau broker a réussi :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Vous devriez voir le message suivant dans les journaux :</p>
<div class="highlight"><pre><span></span><code>...
INFO - Connecting...
INFO - Host: wis2training-broker.wis2dev.io, port: 1883
INFO - Connected successfully
</code></pre></div>
<h3 id="configurer-de-nouveaux-abonnements">Configurer de nouveaux abonnements</h3>
<p>Nous allons maintenant configurer un nouvel abonnement au sujet pour télécharger des données de trajectoire de cyclone depuis le WIS2 Training Broker.</p>
<p>Connectez-vous au conteneur <strong>wis2downloader</strong> :</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Et exécutez la commande suivante (copiez-collez pour éviter les erreurs de frappe) :</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
</code></pre></div>
<p>Quittez le conteneur <strong>wis2downloader</strong> en tapant <code>exit</code>.</p>
<h3 id="verifier-les-donnees-telechargees_1">Vérifier les données téléchargées</h3>
<p>Attendez jusqu'à ce que vous voyiez les téléchargements commencer dans le tableau de bord wis2downloader dans Grafana.</p>
<p>Vérifiez que les données ont été téléchargées en consultant à nouveau les journaux de wis2downloader :</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Vous devriez voir un message similaire au suivant dans les journaux :</p>
<div class="highlight"><pre><span></span><code>[...] INFO - Message received under topic origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
[...] INFO - Downloaded A_JSXX05ECEP020000_C_ECMP_...
</code></pre></div>
<p>Vérifiez à nouveau le contenu du répertoire des téléchargements :</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Vous devriez voir un nouveau répertoire nommé <code>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory</code> contenant les données téléchargées.</p>
<div class="admonition question">
<p class="admonition-title">Examiner les données téléchargées</p>
<p>Quel est le format des fichiers téléchargés ?</p>
</div>
<details class="success">
<summary>Cliquez pour révéler la réponse</summary>
<p>Les données téléchargées sont au format BUFR, comme indiqué par l'extension <code>.bufr</code>.</p>
</details>
<p>Ensuite, essayez d'ajouter deux autres abonnements pour télécharger les anomalies mensuelles de température de surface et les données de prévisions globales d'ensemble à partir des sujets suivants :</p>
<ul>
<li><code>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/global</code></li>
<li><code>origin/a/wis2/int-wis2-training/data/core/climate/experimental/anomalies/monthly/surface-temperature</code></li>
</ul>
<p>Attendez jusqu'à ce que vous voyiez les téléchargements commencer dans le tableau de bord wis2downloader dans Grafana.</p>
<p>Vérifiez à nouveau le contenu du répertoire des téléchargements :</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Vous devriez voir de nouveaux répertoires correspondant aux sujets auxquels vous vous êtes abonnés, contenant les données téléchargées.</p>
<h2 id="conclusion">Conclusion</h2>
<div class="admonition success">
<p class="admonition-title">Félicitations !</p>
<p>Dans cette session pratique, vous avez appris à :</p>
<ul>
<li>utiliser le 'wis2downloader' pour vous abonner à un Broker WIS2 et télécharger des données sur votre système local</li>
<li>visualiser l'état des téléchargements dans le tableau de bord Grafana</li>
<li>modifier la configuration par défaut de wis2downloader pour s'abonner à un broker différent</li>
<li>visualiser les données téléchargées sur votre système local</li>
</ul>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>