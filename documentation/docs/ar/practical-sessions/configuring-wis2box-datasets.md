---
title: تكوين مجموعات البيانات في wis2box
---

# تكوين مجموعات البيانات في wis2box

!!! abstract "نتائج التعلم"
    بنهاية هذه الجلسة العملية، ستكون قادرًا على:

    - إنشاء مجموعة بيانات جديدة
    - إنشاء بيانات استكشافية لمجموعة بيانات
    - تكوين تعيينات البيانات لمجموعة بيانات
    - نشر إشعار WIS2 مع سجل WCMP2
    - تحديث مجموعة البيانات الخاصة بك وإعادة نشرها

## مقدمة

wis2box يستخدم مجموعات البيانات المرتبطة ببيانات الاستكشاف وتعيينات البيانات.

تُستخدم بيانات الاستكشاف لإنشاء سجل WCMP2 (WMO Core Metadata Profile 2) يتم مشاركته باستخدام إشعار WIS2 الذي يتم نشره على وسيط wis2box الخاص بك.

تُستخدم تعيينات البيانات لربط مكون إضافي للبيانات ببيانات الإدخال الخاصة بك، مما يسمح بتحويل بياناتك قبل نشرها باستخدام إشعار WIS2.

سوف تمر هذه الجلسة بإنشاء مجموعة بيانات جديدة، وإنشاء بيانات استكشافية، وتكوين تعيينات البيانات. ستفحص مجموعة البيانات الخاصة بك في wis2box-api وتراجع إشعار WIS2 لبياناتك الاستكشافية.

## التحضير

قم بالاتصال بوسيطك باستخدام MQTT Explorer.

بدلاً من استخدام بيانات اعتماد الوسيط الداخلية الخاصة بك، استخدم بيانات الاعتماد العامة `everyone/everyone`:

<img alt="MQTT Explorer: Connect to broker" src="/../assets/img/mqtt-explorer-wis2box-broker-everyone-everyone.png" width="800">

!!! Note

    لا تحتاج أبدًا إلى مشاركة بيانات اعتماد الوسيط الداخلي الخاص بك مع المستخدمين الخارجيين. المستخدم 'everyone' هو مستخدم عام لتمكين مشاركة إشعارات WIS2.

    بيانات الاعتماد `everyone/everyone` لها حق الوصول للقراءة فقط على الموضوع 'origin/a/wis2/#'. هذا هو الموضوع الذي يتم نشر إشعارات WIS2 عليه. يمكن للوسيط العالمي الاشتراك بهذه البيانات العامة لتلقي الإشعارات.

    المستخدم 'everyone' لن يرى المواضيع الداخلية أو يكون قادرًا على نشر الرسائل.

افتح متصفحًا وافتح صفحة إلى `http://YOUR-HOST/wis2box-webapp`. تأكد من أنك قد سجلت الدخول ويمكنك الوصول إلى صفحة 'محرر مجموعة البيانات'.

راجع القسم على [تهيئة wis2box](./initializing-wis2box.md) إذا كنت بحاجة إلى تذكر كيفية الاتصال بالوسيط أو الوصول إلى wis2box-webapp.

## إنشاء رمز تفويض لـ processes/wis2box

ستحتاج إلى رمز تفويض لنقطة النهاية 'processes/wis2box' لنشر مجموعة البيانات الخاصة بك.

لإنشاء رمز تفويض، قم بالوصول إلى جهاز الـ VM التدريبي الخاص بك عبر SSH واستخدم الأوامر التالية لتسجيل الدخول إلى حاوية wis2box-management:

```bash
cd ~/wis2box
python3 wis2box-ctl.py login
```

ثم قم بتشغيل الأمر التالي لإنشاء رمز تفويض عشوائي لنقطة النهاية 'processes/wis2box':

```bash
wis2box auth add-token --path processes/wis2box
```

يمكنك أيضًا إنشاء رمز بقيمة محددة من خلال تقديم الرمز كوسيط للأمر:

```bash
wis2box auth add-token --path processes/wis2box MyS3cretToken
```

تأكد من نسخ قيمة الرمز وتخزينها على جهازك المحلي، حيث ستحتاج إليها لاحقًا.

بمجرد حصولك على الرمز الخاص بك، يمكنك الخروج من حاوية wis2box-management:

```bash
exit
```

## إنشاء مجموعة بيانات جديدة في wis2box-webapp

انتقل إلى صفحة 'محرر مجموعة البيانات' في wis2box-webapp الخاص بمثيل wis2box الخاص بك بالانتقال إلى `http://YOUR-HOST/wis2box-webapp` واختيار 'محرر مجموعة البيانات' من القائمة على الجانب الأيسر.

في صفحة 'محرر مجموعة البيانات'، ضمن علامة التبويب 'مجموعات البيانات'، انقر على "إنشاء جديد ...":

<img alt="Create New Dataset" src="/../assets/img/wis2box-create-new-dataset.png" width="800">

سيظهر نافذة منبثقة، تطلب منك تقديم:

- **Centre ID** : هذا هو اختصار الوكالة (بأحرف صغيرة وبدون مسافات)، كما حددته عضوية WMO، التي تحدد مركز البيانات المسؤول عن نشر البيانات.
- **Data Type**: نوع البيانات التي تقوم بإنشاء بيانات تعريفية لها. يمكنك الاختيار بين استخدام قالب محدد مسبقًا أو تحديد 'أخرى'. إذا تم تحديد 'أخرى'، سيتعين ملء المزيد من الحقول يدويًا.

!!! Note "Centre ID"

    يجب أن يبدأ معرف المركز الخاص بك بـ TLD لبلدك، يليه شرطة (`-`) واسم مختصر لمنظمتك (على سبيل المثال `fr-meteofrance`). يجب أن يكون معرف المركز بأحرف صغيرة ويستخدم الأحرف الأبجدية الرقمية فقط. تعرض القائمة المنسدلة جميع معرفات المراكز المسجلة حاليًا على WIS2 بالإضافة إلى أي معرف مركز قمت بإنشائه بالفعل في wis2box.

!!! Note "قوالب نوع البيانات"

    يتيح لك حقل *Data Type* اختيار من قائمة القوالب المتاحة في محرر مجموعة البيانات wis2box-webapp. سيقوم القالب بملء النموذج مسبقًا بالقيم الافتراضية المقترحة المناسبة لنوع البيانات. يتضمن ذلك العنوان المقترح والكلمات الرئيسية للبيانات التعريفية ومكونات البيانات المعدة مسبقًا. سيتم تثبيت الموضوع على الموضوع الافتراضي لنوع البيانات.

    لغرض التدريب، سنستخدم نوع البيانات *weather/surface-based-observations/synop* الذي يتضمن مكونات إضافية للبيانات تضمن تحويل البيانات إلى تنسيق BUFR قبل نشرها.

    إذا كنت ترغب في نشر تنبيهات CAP باستخدام wis2box، استخدم القالب *weather/advisories-warnings*. يتضمن هذا القالب مكونًا إضافيًا للبيانات يتحقق من أن البيانات المدخلة هي تنبيه CAP صالح قبل النشر. لإنشاء تنبيهات CAP ونشرها عبر wis2box، يمكنك استخدام [CAP Composer](https://github.com/wmo-raf/cap-composer).

يرجى اختيار معرف مركز مناسب لمنظمتك.

لـ **Data Type**، حدد **weather/surface-based-observations/synop**:

<img alt="Create New Dataset Form: Initial information" src="/../assets/img/wis2box-create-new-dataset-form-initial.png" width="450">

انقر *continue to form* للمتابعة، سيتم الآن تقديمك إلى **نموذج محرر مجموعة البيانات**.

بما أنك حددت نوع البيانات **weather/surface-based-observations/synop**، سيتم ملء النموذج مسبقًا ببعض القيم الأولية المتعلقة بهذا النوع من البيانات.

## إنشاء بيانات استكشافية

يتيح لك نموذج محرر مجموعة البيانات تقديم بيانات الاستكشاف لمجموعة البيانات الخاصة بك التي ستستخدمها حاوية wis2box-management لنشر سجل WCMP2.

بما أنك حددت نوع البيانات 'weather/surface-based-observations/synop'، سيتم ملء النموذج مسبقًا ببعض القيم الافتراضية.

يرجى التأكد من استبدال 'Local ID' المولد تلقائيًا بالاسم الوصفي لمجموعة البيانات الخاصة بك، على سبيل المثال 'synop-dataset-wis2training':

<img alt="Metadata Editor: title, description, keywords" src="/../assets/img/wis2box-metadata-editor-part1.png" width="800">

راجع العنوان والكلمات الرئيسية، وقم بتحديثها حسب الضرورة، وقدم وصفًا لمجموعة البيانات الخاصة بك.

لاحظ أن هناك خيارات لتغيير 'سياسة بيانات WMO' من 'أساسية' إلى 'موصى بها' أو لتعديل معرف البيانات التعريفية الافتراضي الخاص بك، يرجى الاحتفاظ بسياسة البيانات كـ 'أساسية' واستخدام معرف البيانات التعريفية الافتراضي.

بعد ذلك، راجع القسم الذي يحدد 'الخصائص الزمنية' و'الخصائص المكانية' الخاصة بك. يمكنك ضبط المربع الحدودي عن طريق تحديث حقول 'خط العرض الشمالي'، 'خط العرض الجنوبي'، 'خط الطول الشرقي'، و'خط الطول الغربي':

<img alt="Metadata Editor: temporal properties, spatial properties" src="/../assets/img/wis2box-metadata-editor-part2.png" width="800">

بعد ذلك، املأ القسم الذي يحدد 'معلومات الاتصال بمزود البيانات':

<img alt="Metadata Editor: contact information" src="/../assets/img/wis2box-metadata-editor-part3.png" width="800">

أخيرًا، املأ القسم الذي يحدد 'معلومات جودة البيانات':

بمجرد الانتهاء من ملء جميع الأقسام، انقر على 'VALIDATE FORM' وتحقق من النموذج بحثًا عن أي أخطاء:

<img alt="Metadata Editor: validation" src="/../assets/img/wis2box-metadata-validation-error.png" width="800">

إذا كانت هناك أي أخطاء، قم بتصحيحها وانقر على 'VALIDATE FORM' مرة أخرى.

تأكد من عدم وجود أخطاء وأنك تحصل على إشعار منبثق يشير إلى أن نموذجك قد تم التحقق من صحته:

<img alt="Metadata Editor: validation success" src="/../assets/img/wis2box-metadata-validation-success.png" width="800">

بعد ذلك، قبل إرسال مجموعة البيانات الخاصة بك، راجع تعيينات البيانات لمجموعة البيانات الخاصة بك.

## تكوين تعيينات البيانات

بما أنك استخدمت قالبًا لإنشاء مجموعة البي