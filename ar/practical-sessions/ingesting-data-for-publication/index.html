
<!doctype html>
<html lang="ar" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/ar/practical-sessions/ingesting-data-for-publication/">
      
      
        <link rel="prev" href="../configuring-station-metadata/">
      
      
        <link rel="next" href="../data-conversion-tools/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>إدخال البيانات للنشر - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="rtl" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          انتقل إلى المحتوى
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="عنوان العارضة">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              إدخال البيانات للنشر
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="إختر اللغة">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../practical-sessions/ingesting-data-for-publication/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../fr/practical-sessions/ingesting-data-for-publication/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/practical-sessions/ingesting-data-for-publication/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/ingesting-data-for-publication/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ru/practical-sessions/ingesting-data-for-publication/" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="بحث" placeholder="بحث" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="إبحث">
        
        <button type="reset" class="md-search__icon md-icon" title="مسح كلي" aria-label="مسح كلي" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            بدء البحث
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="تصفح" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    الصفحة الرئيسية
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    أوراق المساعدة
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            أوراق المساعدة
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    دليل Linux المختصر
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker cheatsheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    دليل مختصر لـ WIS2 in a box
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    الجلسات العملية
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            الجلسات العملية
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    الاتصال بـ WIS2 عبر MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    الوصول إلى جهاز الطالب الافتراضي
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    تهيئة wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    إعداد مجموعات البيانات في wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    تكوين بيانات المحطة الوصفية
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    إدخال البيانات للنشر
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    إدخال البيانات للنشر
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="جدول المحتويات">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      جدول المحتويات
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      المقدمة
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      التحضير
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grafana" class="md-nav__link">
    <span class="md-ellipsis">
      لوحة تحكم Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minio" class="md-nav__link">
    <span class="md-ellipsis">
      استخدام واجهة MinIO على الويب
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#universal" class="md-nav__link">
    <span class="md-ellipsis">
      الإدخال والنشر: المكون الإضافي "Universal"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synop2bufr" class="md-nav__link">
    <span class="md-ellipsis">
      الإدخال والنشر: المكون الإضافي "synop2bufr"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      إدخال البيانات باستخدام Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp" class="md-nav__link">
    <span class="md-ellipsis">
      إدخال البيانات عبر SFTP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      الخلاصة
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    أدوات تحويل البيانات
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    قوالب تحويل CSV إلى BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    إضافة رؤوس GTS إلى إشعارات WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    إعداد مجموعة بيانات موصى بها
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../downloading-data-from-wis2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    تنزيل البيانات من WIS2 باستخدام wis2downloader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../decoding-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    فك تشفير البيانات من التنسيقات الثنائية لـ WMO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    اكتشاف مجموعات البيانات من WIS2 Global Discovery Catalogue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    قوالب csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            قوالب csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    قالب AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    قالب DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="جدول المحتويات">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      جدول المحتويات
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      المقدمة
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      التحضير
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grafana" class="md-nav__link">
    <span class="md-ellipsis">
      لوحة تحكم Grafana
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minio" class="md-nav__link">
    <span class="md-ellipsis">
      استخدام واجهة MinIO على الويب
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#universal" class="md-nav__link">
    <span class="md-ellipsis">
      الإدخال والنشر: المكون الإضافي "Universal"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#synop2bufr" class="md-nav__link">
    <span class="md-ellipsis">
      الإدخال والنشر: المكون الإضافي "synop2bufr"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    <span class="md-ellipsis">
      إدخال البيانات باستخدام Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sftp" class="md-nav__link">
    <span class="md-ellipsis">
      إدخال البيانات عبر SFTP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      الخلاصة
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="_1">إدخال البيانات للنشر</h1>
<div class="admonition abstract">
<p class="admonition-title">نتائج التعلم</p>
<p>بنهاية هذه الجلسة العملية، ستكون قادرًا على:</p>
<ul>
<li>تشغيل سير عمل <code>wis2box</code> عن طريق تحميل البيانات إلى MinIO باستخدام واجهة MinIO على الويب، أو SFTP، أو سكربت Python.</li>
<li>الوصول إلى لوحة تحكم Grafana لمراقبة حالة إدخال البيانات وعرض سجلات مثيل <code>wis2box</code> الخاص بك.</li>
<li>عرض إشعارات بيانات WIS2 التي ينشرها <code>wis2box</code> الخاص بك باستخدام MQTT Explorer.</li>
</ul>
</div>
<h2 id="_2">المقدمة</h2>
<p>في WIS2، يتم مشاركة البيانات في الوقت الفعلي باستخدام إشعارات بيانات WIS2 التي تحتوي على رابط "قياسي" يمكن من خلاله تنزيل البيانات.</p>
<p>لتشغيل سير العمل الخاص بالبيانات في WIS2 Node باستخدام برنامج <code>wis2box</code>، يجب تحميل البيانات إلى الحاوية <strong>wis2box-incoming</strong> في <strong>MinIO</strong>، مما يؤدي إلى بدء سير عمل بيانات <code>wis2box</code> لمعالجة البيانات ونشرها.</p>
<p>لمراقبة حالة سير عمل بيانات <code>wis2box</code>، يمكنك استخدام <strong>لوحة تحكم Grafana</strong> و<strong>MQTT Explorer</strong>. تستخدم لوحة تحكم Grafana البيانات من Prometheus وLoki لعرض حالة <code>wis2box</code> الخاص بك، بينما يسمح لك MQTT Explorer برؤية إشعارات بيانات WIS2 التي ينشرها مثيل <code>wis2box</code> الخاص بك.</p>
<p>في هذا القسم، سنركز على كيفية تحميل البيانات إلى مثيل <code>wis2box</code> الخاص بك والتحقق من نجاح الإدخال والنشر. سيتم تغطية تحويل البيانات لاحقًا في الجلسة العملية <a href="../data-conversion-tools/">أدوات تحويل البيانات</a>.</p>
<p>لاختبار عملية إدخال البيانات يدويًا، سنستخدم واجهة MinIO على الويب، التي تتيح لك تنزيل وتحميل البيانات إلى MinIO باستخدام متصفح الويب.</p>
<p>في بيئة الإنتاج، يتم عادةً إدخال البيانات باستخدام عمليات تلقائية، مثل السكربتات أو التطبيقات التي ترسل البيانات إلى MinIO عبر S3 أو SFTP.</p>
<h2 id="_3">التحضير</h2>
<p>يفترض هذا القسم أنك قد أكملت بنجاح الجلسة العملية <a href="../configuring-wis2box-datasets/">تكوين مجموعات البيانات في wis2box</a>. إذا اتبعت التعليمات في تلك الجلسة، يجب أن يكون لديك مجموعة بيانات واحدة تستخدم المكون الإضافي <code>Universal</code>، وأخرى تستخدم المكون الإضافي <code>FM-12 data converted to BUFR</code>.</p>
<p>تأكد من أنه يمكنك تسجيل الدخول إلى جهاز الطالب الافتراضي الخاص بك باستخدام عميل SSH (مثل PuTTY).</p>
<p>تأكد من أن <code>wis2box</code> يعمل:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box/
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>status
</code></pre></div>
<p>تأكد من أن MQTT Explorer يعمل ومتصل بالمثيل الخاص بك باستخدام بيانات الاعتماد العامة <code>everyone/everyone</code> مع اشتراك في الموضوع <code>origin/a/wis2/#</code>.</p>
<h2 id="grafana">لوحة تحكم Grafana</h2>
<p>افتح لوحة تحكم Grafana المتوفرة على <code>http://YOUR-HOST:3000</code> وسترى لوحة تحكم نشر بيانات <code>wis2box</code>:</p>
<p><img alt="grafana_dashboard" src="/../assets/img/grafana-homepage.png" width="800"></p>
<p>احتفظ بلوحة تحكم Grafana مفتوحة في متصفحك حيث سنستخدمها لاحقًا لمراقبة حالة إدخال البيانات.</p>
<h2 id="minio">استخدام واجهة MinIO على الويب</h2>
<p>افتح واجهة MinIO على الويب المتوفرة على <code>http://YOUR-HOST:9001</code> وسترى شاشة تسجيل الدخول:</p>
<p><img alt="Minio UI: minio ui" src="/../assets/img/minio-login.png" width="400"></p>
<p>لتسجيل الدخول، تحتاج إلى استخدام بيانات الاعتماد المحددة بواسطة WIS2BOX_STORAGE_USERNAME وWIS2BOX_STORAGE_PASSWORD في ملف <code>wis2box.env</code>. يمكنك التحقق من قيم هذه المتغيرات عن طريق تشغيل الأوامر التالية على جهاز الطالب الافتراضي الخاص بك:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>WIS2BOX_STORAGE_USERNAME
cat<span class="w"> </span>wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>WIS2BOX_STORAGE_PASSWORD
</code></pre></div>
<p>بعد تسجيل الدخول، ستكون في عرض مستعرض الكائنات الخاص بـ MinIO. هنا يمكنك رؤية الحاويات المستخدمة بواسطة <code>wis2box</code>:</p>
<ul>
<li><em>wis2box-incoming</em>: هذه هي الحاوية التي تقوم بتحميل البيانات إليها لتشغيل سير عمل <code>wis2box</code>.</li>
<li><em>wis2box-public</em>: هذه هي الحاوية التي ينشر فيها <code>wis2box</code> البيانات التي تم إدخالها ومعالجتها بنجاح.</li>
</ul>
<p>انقر على الحاوية <em>wis2box-incoming</em>. جرّب الخيار لتحديد مسار جديد في هذه الحاوية عن طريق النقر على <code>Create new path</code>:</p>
<p><img alt="minio ui: minio ui after login" src="/../assets/img/minio-incoming-create-new-path.png" width="800"></p>
<p>أدخل مسار المجلد الجديد = <em>new-directory</em> وقم بتحميل ملف المثال هذا <a href="../../../sample-data/mydata.nc">mydata.nc</a> (انقر بزر الماوس الأيمن وحدد "حفظ باسم" لتنزيل الملف). يمكنك استخدام زر "Upload" في MinIO لتحميل الملف إلى الدليل الجديد:</p>
<p><img alt="minio ui: create new path" src="/../assets/img/minio-initial-example-upload.png" width="800"></p>
<div class="admonition question">
<p class="admonition-title">سؤال</p>
<p>بعد تحميل الملف، كيف يمكنك معرفة ما إذا تم تشغيل سير عمل البيانات في <code>wis2box</code> بنجاح؟</p>
</div>
<details class="success">
<summary>انقر للكشف عن الإجابة</summary>
<p>يمكنك التحقق من لوحة تحكم Grafana لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<p>انظر إلى اللوحة السفلية من لوحة تحكم Grafana وسترى <strong>خطأ في التحقق من المسار</strong> يشير إلى أن المسار لا يتطابق مع أي مجموعة بيانات مكونة:</p>
<div class="highlight"><pre><span></span><code>ERROR<span class="w"> </span>-<span class="w"> </span>Path<span class="w"> </span>validation<span class="w"> </span>error:<span class="w"> </span>Could<span class="w"> </span>not<span class="w"> </span>match<span class="w"> </span>http://minio:9000/wis2box-incoming/new-directory/mydata.nc<span class="w"> </span>to<span class="w"> </span>dataset,<span class="w"> </span>path<span class="w"> </span>should<span class="w"> </span>include<span class="w"> </span>one<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>following:<span class="w"> </span><span class="o">[</span><span class="s1">&#39;urn:wmo:md:int-wmo-example:synop-dataset-wis2-training&#39;</span>,<span class="w"> </span><span class="s1">&#39;urn:wmo:md:int-wmo-example:forecast-dataset&#39;</span><span class="w"> </span>...
</code></pre></div>
</details>
<h2 id="universal">الإدخال والنشر: المكون الإضافي "Universal"</h2>
<p>الآن بعد أن عرفت كيفية تحميل البيانات إلى MinIO، دعنا نحاول تحميل البيانات لمجموعة البيانات الخاصة بالتوقعات التي أنشأتها في الجلسة العملية السابقة باستخدام المكون الإضافي "Universal".</p>
<p>ارجع إلى واجهة MinIO على الويب في متصفحك، وحدد الحاوية <code>wis2box-incoming</code>، وانقر على <code>Create new path</code>.</p>
<p>هذه المرة تأكد من <strong>إنشاء دليل يتطابق مع معرف البيانات الوصفية لمجموعة بيانات التوقعات</strong> التي أنشأتها في الجلسة العملية السابقة:</p>
<p><img alt="minio-filepath-forecast-dataset" src="/../assets/img/minio-filepath-forecast-dataset.png" width="800"></p>
<p>أدخل الدليل الذي تم إنشاؤه حديثًا، وانقر على <code>Upload</code> وقم بتحميل الملف الذي استخدمته سابقًا، <em>mydata.nc</em>، إلى الدليل الجديد. تحقق من لوحة تحكم Grafana لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<p>يجب أن ترى الخطأ التالي في لوحة تحكم Grafana:</p>
<div class="highlight"><pre><span></span><code>ERROR<span class="w"> </span>-<span class="w"> </span>Path<span class="w"> </span>validation<span class="w"> </span>error:<span class="w"> </span>Unknown<span class="w"> </span>file<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">(</span>nc<span class="o">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nv">metadata_id</span><span class="o">=</span>urn:wmo:md:int-wmo-example:forecast-dataset.<span class="w"> </span>Did<span class="w"> </span>not<span class="w"> </span>match<span class="w"> </span>any<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>following:grib2
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">سؤال</p>
<p>لماذا لم يتم إدخال البيانات ونشرها؟</p>
</div>
<details class="success">
<summary>انقر للكشف عن الإجابة</summary>
<p>تم تكوين مجموعة البيانات لمعالجة الملفات ذات الامتداد <code>.grib2</code> فقط. تكوين امتداد الملف هو جزء من تعيينات البيانات التي قمت بتعريفها في الجلسة العملية السابقة.</p>
</details>
<p>قم بتنزيل هذا الملف <a href="../../../sample-data/GEPS_18August2025.grib2">GEPS_18August2025.grib2</a> إلى جهاز الكمبيوتر الخاص بك وقم بتحميله إلى الدليل الذي أنشأته لمجموعة بيانات التوقعات. تحقق من لوحة تحكم Grafana وMQTT Explorer لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<p>سترى الخطأ التالي في لوحة تحكم Grafana:</p>
<div class="highlight"><pre><span></span><code>ERROR<span class="w"> </span>-<span class="w"> </span>Failed<span class="w"> </span>to<span class="w"> </span>transform<span class="w"> </span>file<span class="w"> </span>http://minio:9000/wis2box-incoming/urn:wmo:md:int-wmo-example:forecast-dataset/GEPS_18August2025.grib2<span class="w"> </span>:<span class="w"> </span>GEPS_18August2025.grib2<span class="w"> </span>did<span class="w"> </span>not<span class="w"> </span>match<span class="w"> </span>^.*?_<span class="o">(</span><span class="se">\d</span><span class="o">{</span><span class="m">8</span><span class="o">})</span>.*?<span class="se">\.</span>.*$
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">سؤال</p>
<p>كيف يمكنك معالجة هذا الخطأ؟</p>
</div>
<details class="success">
<summary>انقر للكشف عن الإجابة</summary>
<p>اسم الملف لا يتطابق مع التعبير النمطي الذي قمت بتعريفه في تكوين مجموعة البيانات. يجب أن يتطابق اسم الملف مع النمط <code>^.*?_(\d{8}).*?\..*$</code>، الذي يتطلب وجود تاريخ مكون من 8 أرقام (YYYYMMDD) في اسم الملف.</p>
<p>قم بإعادة تسمية الملف إلى <em>GEPS_202508180000.grib2</em> وقم بتحميله مرة أخرى إلى نفس المسار في MinIO لإعادة تشغيل سير عمل <code>wis2box</code>. (أو قم بتنزيل الملف المعاد تسميته من هنا: <a href="../../../sample-data/GEPS_202508180000.grib2">GEPS_202508180000.grib2</a>.</p>
</details>
<p>بعد إصلاح المشكلة المتعلقة باسم الملف، تحقق من لوحة تحكم Grafana وMQTT Explorer لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<p>يجب أن ترى إشعار بيانات WIS2 جديدًا في MQTT Explorer:</p>
<p><img alt="mqtt explorer: message notification geps data" src="/../assets/img/mqtt-explorer-wis2-notification-geps-sample.png" width="800"></p>
<div class="admonition note">
<p class="admonition-title">حول المكون الإضافي Universal</p>
<p>يسمح المكون الإضافي "Universal" بنشر البيانات دون أي تحويل. إنه مكون إضافي <em>تمرير</em> يقوم بإدخال ملف البيانات ونشره كما هو. لإضافة خاصية "datetime" إلى إشعار بيانات WIS2، يعتمد المكون الإضافي على المجموعة الأولى في نمط الملف لمطابقة التاريخ للبيانات التي تقوم بنشرها.</p>
</div>
<div class="admonition question">
<p class="admonition-title">سؤال إضافي</p>
<p>حاول تحميل نفس الملف مرة أخرى إلى نفس المسار في MinIO. هل تحصل على إشعار آخر في MQTT Explorer؟</p>
</div>
<details class="success">
<summary>انقر للكشف عن الإجابة</summary>
<p>لا. 
في لوحة تحكم Grafana سترى خطأ يشير إلى أن البيانات قد تم نشرها بالفعل:</p>
</details>
<div class="highlight"><pre><span></span><code>ERROR<span class="w"> </span>-<span class="w"> </span>Data<span class="w"> </span>already<span class="w"> </span>published<span class="w"> </span><span class="k">for</span><span class="w"> </span>GEPS_202508180000-grib2<span class="p">;</span><span class="w"> </span>not<span class="w"> </span>publishing
</code></pre></div>
<p>هذا يشير إلى أن سير العمل الخاص بالبيانات قد تم تشغيله، ولكن لم يتم إعادة نشر البيانات. لن يقوم 'wis2box' بنشر نفس البيانات مرتين.</p>
<p>إذا كنت ترغب في إجبار النظام على إعادة إرسال الإشعار لنفس البيانات، قم بحذف البيانات من الحاوية 'wis2box-public' قبل إعادة إدخال البيانات.</p>
<h2 id="synop2bufr">الإدخال والنشر: المكون الإضافي "synop2bufr"</h2>
<p>بعد ذلك، ستقوم بمعالجة مجموعة البيانات التي أنشأتها في الجلسة العملية السابقة باستخدام <strong>القالب = 'weather/surface-based-observations/synop'</strong>. القالب مُعد مسبقًا لتكوين المكونات الإضافية التالية للبيانات:</p>
<p><img alt="synop-dataset-plugins" src="/../assets/img/wis2box-data-mappings.png" width="1000"></p>
<p>لاحظ أن أحد المكونات الإضافية هو <strong>تحويل بيانات FM-12 إلى BUFR</strong> (synop2bufr) والذي تم تكوينه للعمل مع الملفات ذات الامتداد <strong>txt</strong>.</p>
<p>قم بتنزيل بيانات العينة هذه <a href="../../../sample-data/synop_202502040900.txt">synop_202502040900.txt</a> (انقر بزر الماوس الأيمن واختر "حفظ باسم" لتنزيل الملف) إلى جهاز الكمبيوتر الخاص بك. أنشئ مسارًا جديدًا في MinIO يتطابق مع معرف البيانات الوصفية لمجموعة بيانات synop، وقم بتحميل بيانات العينة إلى هذا المسار.</p>
<p>تحقق من لوحة معلومات Grafana وMQTT Explorer لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<div class="admonition question">
<p class="admonition-title">سؤال</p>
<p>لماذا لم تتلق إشعارًا في MQTT Explorer؟</p>
</div>
<details class="success">
<summary>اضغط لعرض الإجابة</summary>
<p>في لوحة معلومات Grafana سترى تحذيرًا يشير إلى:</p>
<div class="highlight"><pre><span></span><code>WARNING<span class="w"> </span>-<span class="w"> </span>Station<span class="w"> </span><span class="m">64400</span><span class="w"> </span>not<span class="w"> </span>found<span class="w"> </span><span class="k">in</span><span class="w"> </span>station<span class="w"> </span>file
</code></pre></div>
<p>أو إذا لم تكن هناك محطات مرتبطة بالموضوع، سترى:</p>
<div class="highlight"><pre><span></span><code>ERROR<span class="w"> </span>-<span class="w"> </span>No<span class="w"> </span>stations<span class="w"> </span>found
</code></pre></div>
<p>تم تشغيل سير العمل الخاص بالبيانات، ولكن لم يتمكن المكون الإضافي من معالجة البيانات بسبب نقص بيانات المحطة الوصفية.</p>
</details>
<div class="admonition note">
<p class="admonition-title">حول المكون الإضافي لتحويل بيانات FM-12 إلى BUFR</p>
<p>يحاول هذا المكون الإضافي تحويل بيانات الإدخال FM-12 إلى تنسيق BUFR.</p>
<p>كجزء من عملية التحويل، يضيف المكون الإضافي البيانات الوصفية المفقودة إلى بيانات الإخراج، مثل معرف محطة WIGOS، الموقع، وارتفاع البارومتر للمحطة. للقيام بذلك، يبحث المكون الإضافي عن هذه المعلومات في قائمة المحطات في مثيل 'wis2box' الخاص بك باستخدام المعرف التقليدي (5 أرقام) (64400 في هذه الحالة).</p>
<p>إذا لم يتم العثور على المحطة في قائمة المحطات، فلن يتمكن المكون الإضافي من إضافة البيانات الوصفية المفقودة ولن ينشر أي بيانات.</p>
</div>
<p>أضف المحطة بمعرف WIGOS <code>0-20000-0-64400</code> إلى مثيل 'wis2box' الخاص بك باستخدام محرر المحطات في 'wis2box-webapp'، كما تعلمت في الجلسة العملية <a href="../configuring-station-metadata/">تكوين بيانات المحطة الوصفية</a>.</p>
<p>استرجع المحطة من OSCAR:</p>
<p><img alt="oscar-station" src="/../assets/img/webapp-test-station-oscar-search.png" width="600"></p>
<p>أضف المحطة إلى الموضوع '../weather/surface-based-observations/synop' واحفظ التغييرات باستخدام رمز المصادقة الخاص بك.</p>
<p>بعد إضافة المحطة، أعد تشغيل سير العمل الخاص بـ 'wis2box' عن طريق تحميل ملف بيانات العينة <em>synop_202502040900.txt</em> مرة أخرى إلى نفس المسار في MinIO.</p>
<p>تحقق من لوحة معلومات Grafana وMQTT Explorer للتأكد من أن البيانات قد تم نشرها بنجاح. إذا رأيت الإشعار أدناه، فهذا يعني أنك نشرت بيانات العينة synop بنجاح:</p>
<p><img alt="webapp-test-station" src="/../assets/img/mqtt-explorer-wis2box-notification-synop-sample.png" width="800"></p>
<div class="admonition question">
<p class="admonition-title">سؤال</p>
<p>ما هو امتداد الملف الذي تم نشره في إشعار بيانات WIS2؟</p>
</div>
<details class="success">
<summary>اضغط لعرض الإجابة</summary>
<p>تحقق من قسم الروابط في إشعار بيانات WIS2 في MQTT Explorer وسترى الرابط القانوني:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;rel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;canonical&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;application/bufr&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://example.wis2.training/data/2025-02-04/wis/urn:wmo:md:int-wmo-example:synop-dataset/WIGOS_0-20000-0-64400_20250204T090000.bufr4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">387</span>
<span class="p">}</span>
</code></pre></div>
<p>امتداد الملف هو <code>.bufr4</code>، مما يشير إلى أن البيانات تم تحويلها بنجاح من تنسيق FM-12 إلى تنسيق BUFR بواسطة المكون الإضافي.</p>
</details>
<h2 id="python">إدخال البيانات باستخدام Python</h2>
<p>يعد استخدام واجهة MinIO على الويب طريقة مريحة لتحميل البيانات يدويًا إلى MinIO لأغراض الاختبار. ومع ذلك، في بيئة الإنتاج، ستستخدم عادةً عمليات مؤتمتة لتحميل البيانات إلى MinIO، على سبيل المثال باستخدام سكربتات أو تطبيقات تستخدم واجهة MinIO المتوافقة مع S3.</p>
<p>في هذا التمرين، سنستخدم عميل Python الخاص بـ MinIO لنسخ البيانات إلى MinIO.</p>
<p>يوفر MinIO عميل Python، والذي يمكن تثبيته كما يلي:</p>
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>minio
</code></pre></div>
<p>على جهاز VM الخاص بك، ستكون حزمة 'minio' لـ Python مثبتة بالفعل.</p>
<p>انسخ الدليل <code>exercise-materials/data-ingest-exercises</code> إلى الدليل الذي قمت بتعريفه كـ <code>WIS2BOX_HOST_DATADIR</code> في ملف <code>wis2box.env</code> الخاص بك:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>-r<span class="w"> </span>~/exercise-materials/data-ingest-exercises<span class="w"> </span>~/wis2box-data/
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>يتم تركيب <code>WIS2BOX_HOST_DATADIR</code> كـ <code>/data/wis2box/</code> داخل حاوية 'wis2box-management' بواسطة ملف <code>docker-compose.yml</code> المضمن في دليل 'wis2box'.</p>
<p>يتيح ذلك مشاركة البيانات بين المضيف والحاوية.</p>
</div>
<p>في الدليل <code>exercise-materials/data-ingest-exercises</code>، ستجد سكربت مثال <code>copy_file_to_incoming.py</code> يمكن استخدامه لنسخ الملفات إلى MinIO.</p>
<p>حاول تشغيل السكربت لنسخ ملف بيانات العينة <code>synop_202501030900.txt</code> إلى الحاوية <code>wis2box-incoming</code> في MinIO كما يلي:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/wis2box-data/data-ingest-exercises
python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>synop_202501030900.txt
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ستواجه خطأ لأن السكربت غير مهيأ للوصول إلى نقطة النهاية MinIO على 'wis2box' الخاص بك حتى الآن.</p>
</div>
<p>يحتاج السكربت إلى معرفة نقطة النهاية الصحيحة للوصول إلى MinIO على 'wis2box' الخاص بك. إذا كان 'wis2box' يعمل على مضيفك، فإن نقطة النهاية MinIO متاحة على <code>http://YOUR-HOST:9000</code>. كما يحتاج السكربت إلى تحديث كلمة مرور التخزين الخاصة بك والمسار في حاوية MinIO لتخزين البيانات.</p>
<div class="admonition question">
<p class="admonition-title">تحديث السكربت وإدخال بيانات CSV</p>
<p>قم بتحرير السكربت <code>copy_file_to_incoming.py</code> لمعالجة الأخطاء، باستخدام إحدى الطرق التالية:
- من سطر الأوامر: استخدم محرر النصوص <code>nano</code> أو <code>vim</code> لتحرير السكربت.
- باستخدام WinSCP: ابدأ اتصالًا جديدًا باستخدام بروتوكول الملفات <code>SCP</code> ونفس بيانات الاعتماد الخاصة بعميل SSH الخاص بك. انتقل إلى الدليل <code>wis2box-data/data-ingest-exercises</code> وقم بتحرير <code>copy_file_to_incoming.py</code> باستخدام محرر النصوص المدمج.</p>
<p>تأكد من أنك:</p>
<ul>
<li>تحدد نقطة النهاية الصحيحة لـ MinIO لمضيفك.</li>
<li>توفر كلمة مرور التخزين الصحيحة لمثيل MinIO الخاص بك.</li>
<li>توفر المسار الصحيح في حاوية MinIO لتخزين البيانات.</li>
</ul>
<p>أعد تشغيل السكربت لإدخال ملف بيانات العينة <code>synop_202501030900.txt</code> إلى MinIO:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>~/wis2box-data/<span class="w"> </span>~/wis2box-data/synop_202501030900.txt
</code></pre></div>
<p>تأكد من حل الأخطاء.</p>
</div>
<p>بمجرد أن تتمكن من تشغيل السكربت بنجاح، سترى رسالة تشير إلى أن الملف تم نسخه إلى MinIO، ويجب أن ترى إشعارات البيانات المنشورة بواسطة مثيل 'wis2box' الخاص بك في MQTT Explorer.</p>
<p>يمكنك أيضًا التحقق من لوحة معلومات Grafana لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
<p>الآن بعد أن أصبح السكربت يعمل، يمكنك محاولة نسخ ملفات أخرى إلى MinIO باستخدام نفس السكربت.</p>
<div class="admonition question">
<p class="admonition-title">إدخال بيانات ثنائية بتنسيق BUFR</p>
<p>قم بتشغيل الأمر التالي لنسخ ملف البيانات الثنائية <code>bufr-example.bin</code> إلى الحاوية <code>wis2box-incoming</code> في MinIO:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>copy_file_to_incoming.py<span class="w"> </span>bufr-example.bin
</code></pre></div>
</div>
<p>تحقق من لوحة معلومات Grafana وMQTT Explorer لمعرفة ما إذا تم إدخال بيانات الاختبار ونشرها بنجاح. إذا رأيت أي أخطاء، حاول حلها.</p>
<div class="admonition question">
<p class="admonition-title">التحقق من إدخال البيانات</p>
<p>كم عدد الرسائل التي تم نشرها إلى وسيط MQTT لهذه العينة من البيانات؟</p>
</div>
<details class="success">
<summary>اضغط لعرض الإجابة</summary>
<p>سترى أخطاءً تم الإبلاغ عنها في Grafana لأن المحطات في ملف BUFR غير معرفة في قائمة المحطات الخاصة بمثيل 'wis2box' الخاص بك.</p>
<p>إذا كانت جميع المحطات المستخدمة في ملف BUFR معرفة في مثيل 'wis2box' الخاص بك، يجب أن ترى 10 رسائل منشورة إلى وسيط MQTT. كل إشعار يتوافق مع بيانات لمحطة واحدة ولطابع زمني واحد للملاحظة.</p>
<p>يقوم المكون الإضافي <code>wis2box.data.bufr4.ObservationDataBUFR</code> بتقسيم ملف BUFR إلى رسائل BUFR فردية وينشر رسالة واحدة لكل محطة وطابع زمني للملاحظة.</p>
</details>
<h2 id="sftp">إدخال البيانات عبر SFTP</h2>
<p>يمكن الوصول إلى خدمة MinIO في <code>wis2box</code> أيضًا عبر SFTP. إذا كان لديك نظام قائم يمكن تكوينه لإرسال البيانات عبر SFTP، يمكنك استخدام هذه الطريقة كبديل لأتمتة عملية إدخال البيانات.</p>
<p>يتم ربط خادم SFTP الخاص بـ MinIO بالمنفذ 8022 على المضيف (المنفذ 22 مخصص لـ SSH).</p>
<p>في هذا التمرين، سنوضح كيفية استخدام WinSCP لتحميل البيانات إلى MinIO باستخدام SFTP.</p>
<p>يمكنك إعداد اتصال جديد في WinSCP كما هو موضح في لقطة الشاشة التالية:</p>
<p><img alt="winscp-sftp-connection" src="/../assets/img/winscp-sftp-login.png" width="400"></p>
<p>بيانات الاعتماد لاتصال SFTP يتم تعريفها بواسطة <code>WIS2BOX_STORAGE_USERNAME</code> و <code>WIS2BOX_STORAGE_PASSWORD</code> في ملف <code>wis2box.env</code> الخاص بك، وهي نفس بيانات الاعتماد التي استخدمتها للاتصال بواجهة MinIO.</p>
<p>عند تسجيل الدخول، ستظهر لك الحاويات (buckets) المستخدمة بواسطة <code>wis2box</code> في MinIO:</p>
<p><img alt="winscp-sftp-bucket" src="/../assets/img/winscp-buckets.png" width="600"></p>
<p>يمكنك التنقل إلى الحاوية <code>wis2box-incoming</code> ثم إلى المجلد الخاص بمجموعة البيانات الخاصة بك. ستظهر لك الملفات التي قمت بتحميلها في التمارين السابقة:</p>
<p><img alt="winscp-sftp-incoming-path" src="/../assets/img/winscp-incoming-data-path.png" width="600"></p>
<div class="admonition question">
<p class="admonition-title">تحميل البيانات باستخدام SFTP</p>
<p>قم بتنزيل هذا الملف النموذجي إلى جهاز الكمبيوتر الخاص بك:</p>
<p><a href="../../../sample-data/synop_202503030900.txt">synop_202503030900.txt</a> (انقر بزر الماوس الأيمن واختر "حفظ باسم" لتنزيل الملف).</p>
<p>ثم قم بتحميله إلى مسار مجموعة البيانات الواردة في MinIO باستخدام جلسة SFTP الخاصة بك في WinSCP.</p>
<p>تحقق من لوحة معلومات Grafana ومستكشف MQTT لمعرفة ما إذا تم إدخال البيانات ونشرها بنجاح.</p>
</div>
<details class="success">
<summary>انقر لعرض الإجابة</summary>
<p>يجب أن ترى إشعار بيانات WIS2 جديدًا تم نشره للمحطة التجريبية <code>0-20000-0-64400</code>، مما يشير إلى أن البيانات تم إدخالها ونشرها بنجاح.</p>
<p><img alt="grafana_data_ingest" src="/../assets/img/grafana_data-ingest-test3.png" width="400"> </p>
<p>إذا استخدمت المسار الخاطئ، ستظهر رسالة خطأ في السجلات.</p>
</details>
<h2 id="_4">الخلاصة</h2>
<div class="admonition success">
<p class="admonition-title">تهانينا!</p>
<p>في هذه الجلسة العملية، تعلمت كيفية:</p>
<ul>
<li>تشغيل سير عمل <code>wis2box</code> عن طريق تحميل البيانات إلى MinIO باستخدام طرق مختلفة.</li>
<li>تصحيح الأخطاء الشائعة في عملية إدخال البيانات باستخدام لوحة معلومات Grafana وسجلات مثيل <code>wis2box</code> الخاص بك.</li>
<li>مراقبة إشعارات بيانات WIS2 التي يتم نشرها بواسطة <code>wis2box</code> الخاص بك في لوحة معلومات Grafana ومستكشف MQTT.</li>
</ul>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u062a\u0645 \u0627\u0644\u0646\u0633\u062e \u0627\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629", "clipboard.copy": "\u0646\u0633\u062e \u0625\u0644\u0649 \u0627\u0644\u062d\u0627\u0641\u0638\u0629", "search.result.more.one": "\u0623\u0643\u062b\u0631 \u0645\u0646 1 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629", "search.result.more.other": "\u0623\u0643\u062b\u0631 \u0645\u0646 # \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629", "search.result.none": "\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c", "search.result.one": "\u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b \u0645\u0633\u062a\u0646\u062f \u0648\u0627\u062d\u062f", "search.result.other": "\u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b # \u0645\u0633\u062a\u0646\u062f\u0627\u062a", "search.result.placeholder": "\u0627\u0643\u062a\u0628 \u0644\u0628\u062f\u0621 \u0627\u0644\u0628\u062d\u062b", "search.result.term.missing": "\u0645\u0641\u0642\u0648\u062f", "select.version": "\u0625\u062e\u062a\u0631 \u0627\u0644\u0625\u0635\u062f\u0627\u0631"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>