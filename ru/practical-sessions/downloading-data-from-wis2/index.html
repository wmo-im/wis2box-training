
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="WIS2 in a box (wis2box) is a Free and Open Source (FOSS) Reference Implementation of a WMO WIS2 Node. The project provides a plug and play toolset to ingest, process, and publish weather/climate/water data using standards-based approaches in alignment with the WIS2 principles. wis2box also provides access to all data in the WIS2 network. wis2box is designed to have a low barrier to entry for data providers, providing enabling infrastructure and services for data discovery, access, and visualization.">
      
      
        <meta name="author" content="World Meteorological Organization">
      
      
        <link rel="canonical" href="https://training.wis2box.wis.wmo.int/ru/practical-sessions/downloading-data-from-wis2/">
      
      
        <link rel="prev" href="../datasets-with-access-control/">
      
      
        <link rel="next" href="../decoding-data/">
      
      
      <link rel="icon" href="https://public.wmo.int/sites/all/themes/wmo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Загрузка данных из WIS2 с использованием wis2downloader - WIS2 in a box training</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wis2-wis2downloader" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href="../../" title="WIS2 in a box training" class="md-header__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            WIS2 in a box training
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Загрузка данных из WIS2 с использованием wis2downloader
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Выберите язык">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../practical-sessions/downloading-data-from-wis2/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../fr/practical-sessions/downloading-data-from-wis2/" hreflang="fr" class="md-select__link">
              Français
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/practical-sessions/downloading-data-from-wis2/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../zh/practical-sessions/downloading-data-from-wis2/" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../ar/practical-sessions/downloading-data-from-wis2/" hreflang="ar" class="md-select__link">
              العربية
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="WIS2 in a box training" class="md-nav__button md-logo" aria-label="WIS2 in a box training" data-md-component="logo">
      
  <img src="../../../assets/img/wmo-logo.png" alt="logo">

    </a>
    WIS2 in a box training
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Главная
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Практические занятия
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Практические занятия
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connecting-to-wis2-over-mqtt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Подключение к WIS2 через MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../accessing-your-student-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Доступ к вашей учебной виртуальной машине
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../initializing-wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Инициализация wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-wis2box-datasets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Настройка наборов данных в wis2box
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring-station-metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Настройка метаданных станции
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingesting-data-for-publication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Загрузка данных для публикации
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-conversion-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Инструменты преобразования данных
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv2bufr-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шаблоны преобразования CSV в BUFR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adding-gts-headers-to-wis2-notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Добавление заголовков GTS в уведомления WIS2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datasets-with-access-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Настройка рекомендованного набора данных
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Загрузка данных из WIS2 с использованием wis2downloader
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Загрузка данных из WIS2 с использованием wis2downloader
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Введение
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Подготовка
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Основы wis2downloader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Основы wis2downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wis2downloader-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Просмотр панели мониторинга wis2downloader в Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wis2downloader_1" class="md-nav__link">
    <span class="md-ellipsis">
      Просмотр конфигурации wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wis2downloader_2" class="md-nav__link">
    <span class="md-ellipsis">
      Интерфейс командной строки wis2downloader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gts-wis2-global-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Загрузка данных GTS через WIS2 Global Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Загрузка данных GTS через WIS2 Global Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Настройка подписки
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Проверка загруженных данных
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wis2-training-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Загрузка примерных данных с WIS2 Training Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Загрузка примерных данных с WIS2 Training Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wis2downloader_3" class="md-nav__link">
    <span class="md-ellipsis">
      Изменение конфигурации wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Настройка новых подписок
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Проверка загруженных данных
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Заключение
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../decoding-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Декодирование данных из бинарных форматов ВМО
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovering-datasets-from-wis2-gdc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Обнаружение наборов данных из WIS2 Global Discovery Catalogue
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Шаблоны csv2bufr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Шаблоны csv2bufr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/aws-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шаблон AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../csv2bufr-templates/daycli-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шаблон DAYCLI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Шпаргалки
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Шпаргалки
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шпаргалка по Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шпаргалка по Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cheatsheets/wis2box/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Шпаргалка WIS2 in a box
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Введение
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Подготовка
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wis2downloader" class="md-nav__link">
    <span class="md-ellipsis">
      Основы wis2downloader
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Основы wis2downloader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wis2downloader-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      Просмотр панели мониторинга wis2downloader в Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wis2downloader_1" class="md-nav__link">
    <span class="md-ellipsis">
      Просмотр конфигурации wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wis2downloader_2" class="md-nav__link">
    <span class="md-ellipsis">
      Интерфейс командной строки wis2downloader
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gts-wis2-global-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Загрузка данных GTS через WIS2 Global Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Загрузка данных GTS через WIS2 Global Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Настройка подписки
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Проверка загруженных данных
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wis2-training-broker" class="md-nav__link">
    <span class="md-ellipsis">
      Загрузка примерных данных с WIS2 Training Broker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Загрузка примерных данных с WIS2 Training Broker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wis2downloader_3" class="md-nav__link">
    <span class="md-ellipsis">
      Изменение конфигурации wis2downloader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Настройка новых подписок
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Проверка загруженных данных
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Заключение
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="wis2-wis2downloader">Загрузка данных из WIS2 с использованием wis2downloader</h1>
<div class="admonition abstract">
<p class="admonition-title">Цели обучения!</p>
<p>К концу этой практической сессии вы сможете:</p>
<ul>
<li>использовать "wis2downloader" для подписки на уведомления о данных WIS2 и загрузки данных на вашу локальную систему</li>
<li>просматривать статус загрузок на панели мониторинга Grafana</li>
<li>научиться настраивать wis2downloader для подписки на брокер, отличный от брокера по умолчанию</li>
</ul>
</div>
<h2 id="_1">Введение</h2>
<p>В этой сессии вы научитесь настраивать подписку на WIS2 Broker и автоматически загружать данные на вашу локальную систему с использованием сервиса "wis2downloader", включенного в wis2box.</p>
<div class="admonition note">
<p class="admonition-title">О wis2downloader</p>
<p>Сервис wis2downloader также доступен как отдельный сервис, который может быть запущен на другой системе, отличной от той, которая публикует уведомления WIS2. Подробнее об использовании wis2downloader как отдельного сервиса можно узнать на <a href="https://pypi.org/project/wis2downloader/">wis2downloader</a>.</p>
<p>Если вы хотите разработать собственный сервис для подписки на уведомления WIS2 и загрузки данных, вы можете использовать <a href="https://github.com/World-Meteorological-Organization/wis2downloader">исходный код wis2downloader</a> в качестве примера.</p>
</div>
<h2 id="_2">Подготовка</h2>
<p>Перед началом работы войдите в вашу виртуальную машину студента и убедитесь, что ваш экземпляр wis2box запущен и работает.</p>
<h2 id="wis2downloader">Основы wis2downloader</h2>
<p>Сервис wis2downloader включен в состав wis2box как отдельный контейнер, определенный в файлах Docker Compose. Контейнер Prometheus в wis2box настроен на сбор метрик из контейнера wis2downloader, и эти метрики можно визуализировать на панели мониторинга Grafana.</p>
<h3 id="wis2downloader-grafana">Просмотр панели мониторинга wis2downloader в Grafana</h3>
<p>Откройте веб-браузер и перейдите на панель мониторинга Grafana для вашего экземпляра wis2box, используя адрес <code>http://YOUR-HOST:3000</code>.</p>
<p>Нажмите на "dashboards" в меню слева, затем выберите <strong>wis2downloader dashboard</strong>.</p>
<p>Вы должны увидеть следующую панель мониторинга:</p>
<p><img alt="wis2downloader dashboard" src="../../../assets/img/wis2downloader-dashboard.png" /></p>
<p>Эта панель мониторинга основана на метриках, публикуемых сервисом wis2downloader, и отображает статус загрузок, которые выполняются в данный момент.</p>
<p>В левом верхнем углу вы можете увидеть активные подписки.</p>
<p>Оставьте эту панель мониторинга открытой, так как вы будете использовать её для мониторинга процесса загрузки в следующем упражнении.</p>
<h3 id="wis2downloader_1">Просмотр конфигурации wis2downloader</h3>
<p>Сервис wis2downloader в wis2box можно настроить с использованием переменных окружения, определенных в вашем файле <code>wis2box.env</code>.</p>
<p>Следующие переменные окружения используются wis2downloader:</p>
<pre><code>- DOWNLOAD_BROKER_HOST: Имя хоста MQTT брокера для подключения. По умолчанию globalbroker.meteo.fr
- DOWNLOAD_BROKER_PORT: Порт MQTT брокера для подключения. По умолчанию 443 (HTTPS для веб-сокетов)
- DOWNLOAD_BROKER_USERNAME: Имя пользователя для подключения к MQTT брокеру. По умолчанию everyone
- DOWNLOAD_BROKER_PASSWORD: Пароль для подключения к MQTT брокеру. По умолчанию everyone
- DOWNLOAD_BROKER_TRANSPORT: websockets или tcp, механизм передачи для подключения к MQTT брокеру. По умолчанию websockets
- DOWNLOAD_RETENTION_PERIOD_HOURS: Период хранения загруженных данных в часах. По умолчанию 24
- DOWNLOAD_WORKERS: Количество потоков загрузки. По умолчанию 8. Определяет количество параллельных загрузок.
- DOWNLOAD_MIN_FREE_SPACE_GB: Минимальное свободное место в ГБ на диске для хранения загрузок. По умолчанию 1.
</code></pre>
<p>Чтобы просмотреть текущую конфигурацию wis2downloader, выполните следующую команду:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span>~/wis2box/wis2box.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>DOWNLOAD
</code></pre></div>
<div class="admonition question">
<p class="admonition-title">Просмотр конфигурации wis2downloader</p>
<p>Какой MQTT брокер используется по умолчанию для подключения wis2downloader?</p>
<p>Какой период хранения загруженных данных установлен по умолчанию?</p>
</div>
<details class="success">
<summary>Нажмите, чтобы увидеть ответ</summary>
<p>MQTT брокер по умолчанию для подключения wis2downloader — это <code>globalbroker.meteo.fr</code>.</p>
<p>Период хранения загруженных данных по умолчанию составляет 24 часа.</p>
</details>
<div class="admonition note">
<p class="admonition-title">Обновление конфигурации wis2downloader</p>
<p>Чтобы обновить конфигурацию wis2downloader, вы можете отредактировать файл wis2box.env. Для применения изменений выполните команду для перезапуска стека wis2box:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>После этого вы увидите, как сервис wis2downloader перезапустится с новой конфигурацией.</p>
</div>
<p>Вы можете оставить конфигурацию по умолчанию для следующего упражнения.</p>
<h3 id="wis2downloader_2">Интерфейс командной строки wis2downloader</h3>
<p>Чтобы получить доступ к интерфейсу командной строки wis2downloader в составе wis2box, войдите в контейнер <strong>wis2downloader</strong>, используя следующую команду:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Используйте следующую команду, чтобы отобразить список активных подписок:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>list-subscriptions
</code></pre></div>
<p>Эта команда вернет пустой список, так как подписки еще не настроены.</p>
<h2 id="gts-wis2-global-broker">Загрузка данных GTS через WIS2 Global Broker</h2>
<p>Если вы оставили конфигурацию wis2downloader по умолчанию, он в настоящее время подключен к WIS2 Global Broker, размещенному Météo-France.</p>
<h3 id="_3">Настройка подписки</h3>
<p>Используйте следующую команду <code>cache/a/wis2/de-dwd-gts-to-wis2/#</code>, чтобы подписаться на данные, публикуемые шлюзом GTS-to-WIS2, размещенным DWD, доступным через Global Caches:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Затем выйдите из контейнера <strong>wis2downloader</strong>, набрав <code>exit</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<h3 id="_4">Проверка загруженных данных</h3>
<p>Проверьте панель мониторинга wis2downloader в Grafana, чтобы увидеть добавленную подписку. Подождите несколько минут, и вы должны увидеть начало загрузок. Перейдите к следующему упражнению, как только убедитесь, что загрузки начались.</p>
<p>Сервис wis2downloader в wis2box сохраняет данные в директорию 'downloads', которая находится в каталоге, определенном как <code>WIS2BOX_HOST_DATADIR</code> в вашем файле <code>wis2box.env</code>. Чтобы просмотреть содержимое директории загрузок, выполните следующую команду:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Обратите внимание, что загруженные данные хранятся в директориях, названных в соответствии с темой, на которой было опубликовано уведомление WIS2.</p>
<div class="admonition question">
<p class="admonition-title">Просмотр загруженных данных</p>
<p>Какие директории вы видите в директории загрузок?</p>
<p>Видите ли вы какие-либо загруженные файлы в этих директориях?</p>
</div>
<details class="success">
<summary>Нажмите, чтобы увидеть ответ</summary>
<p>Вы должны увидеть структуру директорий, начинающуюся с <code>cache/a/wis2/de-dwd-gts-to-wis2/</code>, под которой будут находиться дополнительные директории, названные в соответствии с заголовками бюллетеней GTS загруженных данных.</p>
<p>В зависимости от времени начала подписки, вы можете или не можете видеть загруженные файлы в этой директории. Если файлов пока нет, подождите еще несколько минут и проверьте снова.</p>
</details>
<p>Давайте очистим подписку и загруженные данные перед переходом к следующему упражнению.</p>
<p>Войдите обратно в контейнер wis2downloader:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>и удалите подписку, которую вы создали, используя следующую команду:</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>remove-subscription<span class="w"> </span>--topic<span class="w"> </span>cache/a/wis2/de-dwd-gts-to-wis2/#
</code></pre></div>
<p>Удалите загруженные данные, используя следующую команду:</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-rf<span class="w"> </span>/wis2box-data/downloads/cache/*
</code></pre></div>
<p>И выйдите из контейнера wis2downloader, набрав <code>exit</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nb">exit</span>
</code></pre></div>
<p>Проверьте панель мониторинга wis2downloader в Grafana, чтобы убедиться, что подписка удалена. Вы должны увидеть остановку загрузок.</p>
<div class="admonition note">
<p class="admonition-title">О шлюзах GTS-to-WIS2</p>
<p>В настоящее время существуют два шлюза GTS-to-WIS2, публикующих данные через WIS2 Global Broker и Global Caches:</p>
<ul>
<li>DWD (Германия): centre-id=<em>de-dwd-gts-to-wis2</em></li>
<li>JMA (Япония): centre-id=<em>jp-jma-gts-to-wis2</em></li>
</ul>
<p>Если в предыдущем упражнении вы замените <code>de-dwd-gts-to-wis2</code> на <code>jp-jma-gts-to-wis2</code>, вы получите уведомления и данные, публикуемые шлюзом GTS-to-WIS2 от JMA.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Темы origin и cache</p>
<p>При подписке на тему, начинающуюся с <code>origin/</code>, вы получите уведомления с каноническим URL, указывающим на сервер данных, предоставляемый WIS Центром, публикующим данные.</p>
<p>При подписке на тему, начинающуюся с <code>cache/</code>, вы получите несколько уведомлений для одних и тех же данных, по одному для каждого Global Cache. Каждое уведомление будет содержать канонический URL, указывающий на сервер данных соответствующего Global Cache. Сервис wis2downloader загрузит данные с первого доступного канонического URL.</p>
</div>
<h2 id="wis2-training-broker">Загрузка примерных данных с WIS2 Training Broker</h2>
<p>В этом упражнении вы подпишетесь на WIS2 Training Broker, который публикует примерные данные для учебных целей.</p>
<h3 id="wis2downloader_3">Изменение конфигурации wis2downloader</h3>
<p>Это демонстрирует, как подписаться на брокер, отличный от брокера по умолчанию, и позволит вам загрузить данные, публикуемые WIS2 Training Broker.</p>
<p>Отредактируйте файл <code>wis2box.env</code> и измените <code>DOWNLOAD_BROKER_HOST</code> на <code>wis2training-broker.wis2dev.io</code>, <code>DOWNLOAD_BROKER_PORT</code> на <code>1883</code> и <code>DOWNLOAD_BROKER_TRANSPORT</code> на <code>tcp</code>:</p>
<div class="highlight"><pre><span></span><code># downloader settings
DOWNLOAD_BROKER_HOST=wis2training-broker.wis2dev.io
DOWNLOAD_BROKER_PORT=1883
DOWNLOAD_BROKER_USERNAME=everyone
DOWNLOAD_BROKER_PASSWORD=everyone
# download transport mechanism (tcp or websockets)
DOWNLOAD_BROKER_TRANSPORT=tcp
</code></pre></div>
<p>Затем снова выполните команду 'start', чтобы применить изменения:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>start
</code></pre></div>
<p>Проверьте логи wis2downloader, чтобы убедиться, что подключение к новому брокеру прошло успешно:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Вы должны увидеть следующее сообщение в логах:</p>
<div class="highlight"><pre><span></span><code>...
INFO - Connecting...
INFO - Host: wis2training-broker.wis2dev.io, port: 1883
INFO - Connected successfully
</code></pre></div>
<h3 id="_5">Настройка новых подписок</h3>
<p>Теперь мы настроим новую подписку на тему для загрузки данных о траекториях циклонов с WIS2 Training Broker.</p>
<p>Войдите в контейнер <strong>wis2downloader</strong>:</p>
<div class="highlight"><pre><span></span><code>python3<span class="w"> </span>wis2box-ctl.py<span class="w"> </span>login<span class="w"> </span>wis2downloader
</code></pre></div>
<p>И выполните следующую команду (скопируйте и вставьте, чтобы избежать ошибок):</p>
<div class="highlight"><pre><span></span><code>wis2downloader<span class="w"> </span>add-subscription<span class="w"> </span>--topic<span class="w"> </span>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
</code></pre></div>
<p>Выйдите из контейнера <strong>wis2downloader</strong>, набрав <code>exit</code>.</p>
<h3 id="_6">Проверка загруженных данных</h3>
<p>Подождите, пока вы не увидите начало загрузок на панели мониторинга wis2downloader в Grafana.</p>
<p>Проверьте, что данные были загружены, снова проверив логи wis2downloader:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>logs<span class="w"> </span>wis2downloader
</code></pre></div>
<p>Вы должны увидеть сообщение в логах, похожее на следующее:</p>
<div class="highlight"><pre><span></span><code>[...] INFO - Message received under topic origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory
[...] INFO - Downloaded A_JSXX05ECEP020000_C_ECMP_...
</code></pre></div>
<p>Снова проверьте содержимое директории загрузок:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Вы должны увидеть новую директорию с именем <code>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/trajectory</code>, содержащую загруженные данные.</p>
<div class="admonition question">
<p class="admonition-title">Просмотр загруженных данных</p>
<p>Какой формат файла у загруженных данных?</p>
</div>
<details class="success">
<summary>Нажмите, чтобы увидеть ответ</summary>
<p>Загруженные данные находятся в формате BUFR, что указано расширением файла <code>.bufr</code>.</p>
</details>
<p>Далее попробуйте добавить еще две подписки для загрузки данных о месячных аномалиях температуры поверхности и глобальных прогнозах ансамблей по следующим темам:</p>
<ul>
<li><code>origin/a/wis2/int-wis2-training/data/core/weather/prediction/forecast/medium-range/probabilistic/global</code></li>
<li><code>origin/a/wis2/int-wis2-training/data/core/climate/experimental/anomalies/monthly/surface-temperature</code></li>
</ul>
<p>Подождите, пока вы не увидите начало загрузок на панели мониторинга wis2downloader в Grafana.</p>
<p>Снова проверьте содержимое директории загрузок:</p>
<div class="highlight"><pre><span></span><code>ls<span class="w"> </span>-R<span class="w"> </span>~/wis2box-data/downloads
</code></pre></div>
<p>Вы должны увидеть новые директории, соответствующие темам, на которые вы подписались, содержащие загруженные данные.</p>
<h2 id="_7">Заключение</h2>
<div class="admonition success">
<p class="admonition-title">Поздравляем!</p>
<p>В этой практической сессии вы научились:</p>
<ul>
<li>использовать 'wis2downloader' для подписки на WIS2 Broker и загрузки данных на вашу локальную систему</li>
<li>просматривать статус загрузок на панели мониторинга Grafana</li>
<li>изменять конфигурацию wis2downloader для подписки на другой брокер</li>
<li>просматривать загруженные данные на вашей локальной системе</li>
</ul>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 World Meteorological Organization
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../assets/js/disclaimer.js"></script>
      
    
  </body>
</html>